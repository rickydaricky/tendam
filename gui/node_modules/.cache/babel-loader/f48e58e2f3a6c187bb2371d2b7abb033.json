{"ast":null,"code":"var _jsxFileName = \"/Users/riarajesh/cs0320/maps-3-4-mhendrik-rrajesh/maps-frontend/src/CheckinFeed.js\",\n    _s = $RefreshSig$();\n\nimport './App.css';\nimport React, { useState, useEffect, useRef } from 'react';\nimport axios from 'axios';\nimport \"react-awesome-button/dist/styles.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction CheckinFeed() {\n  _s();\n\n  const REQUEST_WAIT = 3000; // Is every 3 seconds a good interval?\n\n  const [checkins, setCheckins] = useState([]);\n  const timeoutLoop = useRef(0);\n  const [userData, setUserData] = useState([]);\n\n  function requestNewCheckinsLoop() {\n    timeoutLoop.current = window.setTimeout(() => {\n      requestNewCheckins();\n      requestNewCheckinsLoop();\n    }, REQUEST_WAIT);\n  }\n\n  useEffect(() => {\n    requestNewCheckinsLoop();\n    return () => window.clearTimeout(timeoutLoop.current);\n  });\n  /**\n   * Makes an axios request to get all the newest checkin data.\n   */\n\n  function requestNewCheckins() {\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        'Access-Control-Allow-Origin': '*'\n      }\n    };\n    axios.get(\"http://localhost:4567/newCheckins\", config).then(response => {\n      return response.data;\n    }).then(data => {\n      if (checkins.length === 0) {\n        setCheckins(data);\n      } else {\n        setCheckins(checkins.concat(data));\n      }\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  function getDataForUser(userID) {\n    const toSend = {\n      userID: userID\n    };\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        'Access-Control-Allow-Origin': '*'\n      }\n    };\n    axios.post(\"http://localhost:4567/specificCheckins\", toSend, config).then(response => {\n      return response.data;\n    }).then(data => {\n      setUserData(data);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"checkinFeed\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Live Checkin Feed\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"scrollable\",\n      children: checkins.map((checkin, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"canHover clickable\",\n        onClick: () => {\n          getDataForUser(checkin[1]);\n        },\n        children: [checkin[2], \" checked in to \", checkin[3], \",\", checkin[4], \" at \", checkin[0]]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Specific User Data\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"scrollable\",\n      children: userData.map((checkin, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"canHover\",\n        children: [checkin[2], \" checked in to \", checkin[3], \",\", checkin[4], \" at \", checkin[0]]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 9\n  }, this);\n}\n\n_s(CheckinFeed, \"NhNoJlZ5hjWcaI8o9H9TG1YRu5I=\");\n\n_c = CheckinFeed;\nexport default CheckinFeed;\n\nvar _c;\n\n$RefreshReg$(_c, \"CheckinFeed\");","map":{"version":3,"sources":["/Users/riarajesh/cs0320/maps-3-4-mhendrik-rrajesh/maps-frontend/src/CheckinFeed.js"],"names":["React","useState","useEffect","useRef","axios","CheckinFeed","REQUEST_WAIT","checkins","setCheckins","timeoutLoop","userData","setUserData","requestNewCheckinsLoop","current","window","setTimeout","requestNewCheckins","clearTimeout","config","headers","get","then","response","data","length","concat","catch","error","console","log","getDataForUser","userID","toSend","post","map","checkin","index"],"mappings":"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","sourcesContent":["import './App.css';\nimport React, {useState, useEffect, useRef} from 'react';\nimport axios from 'axios';\nimport \"react-awesome-button/dist/styles.css\";\n\nfunction CheckinFeed() {\n    const REQUEST_WAIT = 3000; // Is every 3 seconds a good interval?\n    const [checkins, setCheckins] = useState([]);\n    const timeoutLoop = useRef(0);\n    const [userData, setUserData] = useState([]);\n\n    function requestNewCheckinsLoop() {\n        timeoutLoop.current = window.setTimeout(() => {\n            requestNewCheckins();\n            requestNewCheckinsLoop();\n        }, REQUEST_WAIT);\n    }\n\n    useEffect(() => {\n        requestNewCheckinsLoop();\n        return () => window.clearTimeout(timeoutLoop.current);\n    });\n\n    /**\n     * Makes an axios request to get all the newest checkin data.\n     */\n    function requestNewCheckins() {\n        const config = {\n            headers: {\n                \"Content-Type\": \"application/json\",\n                'Access-Control-Allow-Origin': '*',\n            }\n        }\n        axios.get(\n            \"http://localhost:4567/newCheckins\",\n            config\n        )\n            .then(response => {\n                return response.data;\n            })\n            .then((data) => {\n                if (checkins.length === 0) {\n                    setCheckins(data);\n                } else {\n                    setCheckins(checkins.concat(data));\n                }\n            })\n            .catch(function (error) {\n                console.log(error);\n            });\n    }\n\n    function getDataForUser(userID) {\n        const toSend = {\n            userID: userID\n        };\n        const config = {\n            headers: {\n                \"Content-Type\": \"application/json\",\n                'Access-Control-Allow-Origin': '*',\n            }\n        }\n        axios.post(\n            \"http://localhost:4567/specificCheckins\",\n            toSend,\n            config\n        )\n            .then(response => {\n                return response.data;\n            })\n            .then((data) => {\n                setUserData(data);\n            })\n            .catch(function (error) {\n                console.log(error);\n            });\n    }\n\n    return (\n        <div className={\"checkinFeed\"}>\n            <h2>Live Checkin Feed</h2>\n            <div className={\"scrollable\"}>\n                {checkins.map((checkin, index) =>\n                    <div className={\"canHover clickable\"} key={index} onClick={() => {getDataForUser(checkin[1])}}>\n                        {checkin[2]} checked in to {checkin[3]},\n                        {checkin[4]} at {checkin[0]}\n                    </div>\n                )}\n            </div>\n            <h2>Specific User Data</h2>\n            <div className={\"scrollable\"}>\n                {userData.map((checkin, index) =>\n                    <div className={\"canHover\"} key={index}>\n                        {checkin[2]} checked in to {checkin[3]},\n                        {checkin[4]} at {checkin[0]}\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n}\n\nexport default CheckinFeed;"]},"metadata":{},"sourceType":"module"}