{"ast":null,"code":"var _jsxFileName = \"/Users/riarajesh/cs0320/term-project-eyan13-hlee184-mji13-rrajesh-wzhong3/gui/src/components/Profile/Profile.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Button, Typography, TextField } from '@material-ui/core';\nimport { useAuth } from \"../../context/AuthContext\";\nimport { useDatabase } from \"../../context/DatabaseContext\";\nimport './Profile.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Profile() {\n  _s();\n\n  const {\n    currentUser\n  } = useAuth();\n  const {\n    getEntry,\n    userDatabase\n  } = useDatabase();\n  const [profileInfo, setProfileInfo] = useState({\n    bio: \"\",\n    name: \"\",\n    age: \"\",\n    matches: []\n  });\n  const [isEditing, setIsEditing] = useState(false);\n  useEffect(() => {\n    if (currentUser !== null) {\n      getEntry(currentUser.uid).then(doc => {\n        if (doc.exists) {\n          console.log(doc.data());\n          setProfileInfo(doc.data());\n        } else {\n          // doc.data() will be undefined in this case\n          console.log(\"No such document!\");\n        }\n      }).catch(error => {\n        console.log(\"Error getting document:\", error);\n      });\n    }\n  }, []);\n\n  function handleEdit(e) {\n    e.preventDefault();\n    setIsEditing(true);\n  }\n\n  function handleSave(e) {\n    e.preventDefault();\n    setIsEditing(false);\n    let data = profileInfo;\n    let userRef = userDatabase.doc(currentUser.uid);\n    userRef.set(data).then(() => {\n      console.log(\"Document successfully written!\");\n    }).catch(error => {\n      console.error(\"Error writing document: \", error);\n    });\n  }\n\n  function handleChange(e) {\n    e.preventDefault();\n    const {\n      name,\n      value\n    } = e.target;\n    setProfileInfo({ ...profileInfo,\n      [name]: value\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"profile-container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile\",\n      children: [\"Profile Page:\", /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h5\",\n        children: [\"Bio: \", /*#__PURE__*/_jsxDEV(TextField, {\n          label: \"Bio\",\n          name: \"bio\",\n          value: profileInfo.bio,\n          disabled: !isEditing,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 43\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h5\",\n        children: [\"Name: \", /*#__PURE__*/_jsxDEV(TextField, {\n          label: \"Name\",\n          name: \"name\",\n          value: profileInfo.name,\n          disabled: !isEditing,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 44\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h5\",\n        children: [\"Age: \", /*#__PURE__*/_jsxDEV(TextField, {\n          label: \"Age\",\n          name: \"age\",\n          value: profileInfo.age,\n          disabled: !isEditing,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 43\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h5\",\n        children: [\"Matches: \", profileInfo.matches.length]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        disabled: isEditing,\n        onClick: handleEdit,\n        children: \"EDIT\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        color: \"secondary\",\n        disabled: !isEditing,\n        onClick: handleSave,\n        children: \"SAVE\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Profile, \"9BNI72eEH9E0uUQ1ojJ8OT/xaj0=\", false, function () {\n  return [useAuth, useDatabase];\n});\n\n_c = Profile;\nexport default Profile;\n\nvar _c;\n\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"sources":["/Users/riarajesh/cs0320/term-project-eyan13-hlee184-mji13-rrajesh-wzhong3/gui/src/components/Profile/Profile.js"],"names":["React","useState","useEffect","Button","Typography","TextField","useAuth","useDatabase","Profile","currentUser","getEntry","userDatabase","profileInfo","setProfileInfo","bio","name","age","matches","isEditing","setIsEditing","uid","then","doc","exists","console","log","data","catch","error","handleEdit","e","preventDefault","handleSave","userRef","set","handleChange","value","target","length"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Button, Typography, TextField } from '@material-ui/core';\nimport { useAuth } from \"../../context/AuthContext\";\nimport { useDatabase } from \"../../context/DatabaseContext\";\n\nimport './Profile.css';\n\nfunction Profile() {\n    const { currentUser } = useAuth();\n    const { getEntry, userDatabase } = useDatabase();\n    \n    const [profileInfo, setProfileInfo] = useState({\n        bio: \"\", name: \"\", age: \"\", matches: []});\n    \n    const [isEditing, setIsEditing] = useState(false);\n\n    useEffect(() => {\n        if (currentUser !== null) {\n            getEntry(currentUser.uid).then((doc) => {\n                if (doc.exists) {\n                    console.log(doc.data());\n                    setProfileInfo(doc.data());\n                } else {\n                    // doc.data() will be undefined in this case\n                    console.log(\"No such document!\");\n                }\n            }).catch((error) => {\n                console.log(\"Error getting document:\", error);\n            });\n        }\n    }, []);\n\n    function handleEdit(e){\n        e.preventDefault();\n        setIsEditing(true);\n    }\n    \n    function handleSave(e){\n        e.preventDefault();\n        setIsEditing(false);\n        let data = profileInfo;\n        let userRef = userDatabase.doc(currentUser.uid);\n        userRef.set(data).then(() => {\n            console.log(\"Document successfully written!\");\n        })\n        .catch((error) => {\n            console.error(\"Error writing document: \", error);\n        });\n    }\n\n    function handleChange(e) {\n        e.preventDefault();\n        const { name, value } = e.target;\n        setProfileInfo({\n            ...profileInfo,\n            [name]: value\n        });\n    }\n\n    return (\n        <div className=\"profile-container\">\n            <div className=\"profile\">\n            Profile Page:\n            <Typography variant=\"h5\">Bio: <TextField label=\"Bio\"\n            name=\"bio\" value={profileInfo.bio} disabled={!isEditing} onChange={handleChange}/></Typography>\n            <br />\n            <Typography variant=\"h5\">Name: <TextField label=\"Name\"\n            name=\"name\" value={profileInfo.name} disabled={!isEditing} onChange={handleChange}/></Typography>\n            <br />\n            <Typography variant=\"h5\">Age: <TextField label=\"Age\"\n            name=\"age\" value={profileInfo.age} disabled={!isEditing} onChange={handleChange}/></Typography>\n            <br />\n            <Typography variant=\"h5\">Matches: {profileInfo.matches.length}</Typography>\n            <Button variant=\"contained\" color=\"primary\" disabled={isEditing} onClick={handleEdit}>EDIT</Button> \n            <Button variant=\"contained\" color=\"secondary\" disabled={!isEditing} onClick={handleSave}>SAVE</Button> \n            </div>\n        </div>\n    )\n}\n\nexport default Profile\n"]},"metadata":{},"sourceType":"module"}